{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sarah/Desktop/UNT Fall 2020/SWE/GroupProject/DeliveryApp/screens/ProfileScreens/ProfileScreen.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { LogBox } from \"react-native-web/dist/index\";\nimport { HyperlinkButton } from \"../../components/HyperlinkButton\";\nimport { Input } from \"../../components/Input\";\nimport { Container, Form, Item } from 'native-base';\nimport { SomeButton } from \"../../components/Button\";\nimport * as firebase from 'firebase';\nimport '@firebase/firestore';\nimport { ScrollView } from 'react-native-gesture-handler';\nLogBox.ignoreLogs(['Setting a timer for a long period of time']);\n\nvar ProfileScreen = function ProfileScreen(props) {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      proposedDisplayName = _useState2[0],\n      setProposedDisplayName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      proposedPhone = _useState4[0],\n      setProposedPhone = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      proposedAddressName = _useState6[0],\n      setProposedAddress = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      proposedEmailName = _useState8[0],\n      setProposedEmail = _useState8[1];\n\n  useEffect(function () {\n    console.log(\"this should only run once\");\n\n    try {\n      var db = firebase.firestore();\n      var currUID = firebase.auth().currentUser.uid;\n      db.collection(\"Users\").doc(currUID).get().then(function (doc) {\n        if (doc.exists) {\n          var mydata = doc.data();\n          displayNameHandler(mydata.displayName);\n          displayPhoneHandler(mydata.phone);\n          displayAddressHandler(mydata.address);\n          displayEmailHandler(mydata.email);\n        } else {\n          console.log(\"No such document!\");\n        }\n      }).catch(function (error) {\n        console.log(\"Error getting document:\", error);\n      });\n    } catch (_unused) {\n      props.navigation.replace('Login');\n    }\n  }, []);\n\n  var displayNameHandler = function displayNameHandler(enteredText) {\n    setProposedDisplayName(enteredText);\n  };\n\n  var displayEmailHandler = function displayEmailHandler(enteredText) {\n    setProposedEmail(enteredText);\n  };\n\n  var displayPhoneHandler = function displayPhoneHandler(enteredText) {\n    setProposedPhone(enteredText);\n  };\n\n  var displayAddressHandler = function displayAddressHandler(enteredText) {\n    setProposedAddress(enteredText);\n  };\n\n  MakeChanges = function MakeChanges(proposedAddressName, proposedDisplayName, proposedPhone, proposedEmailName, props) {\n    try {\n      var db = firebase.firestore();\n      var currUID = firebase.auth().currentUser.uid;\n      db.collection(\"Users\").doc(currUID).update({\n        address: proposedAddressName,\n        displayName: proposedDisplayName,\n        phone: proposedPhone\n      }).then(function () {\n        alert('Profile Successfully Edited!');\n      }).catch(function (error) {\n        console.log('Error updating the document:', error);\n      });\n    } catch (_unused2) {}\n  };\n\n  var signOut = function signOut(props) {\n    try {\n      firebase.auth().signOut();\n      props.navigation.replace('Login');\n    } catch (error) {\n      console.log(error.toString());\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.screen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, React.createElement(Item, {\n    style: styles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.titleText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  }, \"Hello \"), React.createElement(TextInput, {\n    style: styles.titleText,\n    value: proposedDisplayName,\n    onChangeText: displayNameHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: styles.profileField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, React.createElement(Item, {\n    fixedLabel: true,\n    style: styles.labelInputCombo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, \"Email: \"), React.createElement(TextInput, {\n    style: styles.textInput,\n    value: proposedEmailName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), React.createElement(Item, {\n    fixedLabel: true,\n    style: styles.labelInputCombo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, \"Phone: \"), React.createElement(TextInput, {\n    style: styles.textInput,\n    value: proposedPhone,\n    onChangeText: displayPhoneHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.spacing,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }), React.createElement(Item, {\n    fixedLabel: true,\n    style: styles.labelInputCombo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"Address: \"), React.createElement(TextInput, {\n    style: styles.textInput,\n    value: proposedAddressName,\n    onChangeText: displayAddressHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }))), React.createElement(SomeButton, {\n    title: \"Confirm Changes\",\n    onPress: function onPress() {\n      return MakeChanges(proposedAddressName, proposedDisplayName, proposedPhone, proposedEmailName, props);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: styles.ButtonCombo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, React.createElement(SomeButton, {\n    style: styles.secureUpdate,\n    title: \"Update Email\",\n    onPress: function onPress() {\n      return props.navigation.replace(\"UpdateEmail\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }), React.createElement(SomeButton, {\n    style: styles.secureUpdate,\n    title: \"Update Password\",\n    onPress: function onPress() {\n      return props.navigation.replace(\"UpdatePassword\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 10\n    }\n  })), React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 5\n    }\n  }, React.createElement(HyperlinkButton, {\n    style: styles.signout,\n    title: 'Signout',\n    style: styles.loginbutton,\n    onPress: function onPress() {\n      return signOut(props);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  })));\n};\n\nvar styles = StyleSheet.create({\n  screen: {\n    flex: 1,\n    margin: 10,\n    flexDirection: 'column'\n  },\n  profileField: {\n    marginBottom: 20,\n    paddingVertical: 20\n  },\n  spacing: {\n    padding: 15\n  },\n  title: {\n    marginBottom: 20,\n    textAlign: 'center',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  titleText: {\n    fontSize: 30,\n    fontWeight: 'bold'\n  },\n  ButtonCombo: {\n    flex: 2,\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  text: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  textInput: {\n    fontSize: 20\n  },\n  secureUpdate: {\n    height: 40,\n    marginTop: 10,\n    padding: 10\n  },\n  signout: {\n    margin: 10,\n    padding: 10\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"sources":["/Users/sarah/Desktop/UNT Fall 2020/SWE/GroupProject/DeliveryApp/screens/ProfileScreens/ProfileScreen.js"],"names":["React","useState","useEffect","LogBox","HyperlinkButton","Input","Container","Form","Item","SomeButton","firebase","ScrollView","ignoreLogs","ProfileScreen","props","proposedDisplayName","setProposedDisplayName","proposedPhone","setProposedPhone","proposedAddressName","setProposedAddress","proposedEmailName","setProposedEmail","console","log","db","firestore","currUID","auth","currentUser","uid","collection","doc","get","then","exists","mydata","data","displayNameHandler","displayName","displayPhoneHandler","phone","displayAddressHandler","address","displayEmailHandler","email","catch","error","navigation","replace","enteredText","MakeChanges","update","alert","signOut","toString","styles","screen","title","titleText","profileField","labelInputCombo","text","textInput","spacing","ButtonCombo","secureUpdate","signout","loginbutton","StyleSheet","create","flex","margin","flexDirection","marginBottom","paddingVertical","padding","textAlign","justifyContent","alignItems","fontSize","fontWeight","height","marginTop"],"mappings":"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","sourcesContent":["import React, {useState,useEffect} from 'react';\nimport { StyleSheet, Text, View, TextInput, Button, LogBox, } from 'react-native';\nimport {HyperlinkButton} from '../../components/HyperlinkButton'\nimport {Input} from '../../components/Input';\nimport {Container,Form,Item} from 'native-base';\nimport {SomeButton} from '../../components/Button'\nimport * as firebase from 'firebase';\nimport '@firebase/firestore';\nimport { ScrollView } from 'react-native-gesture-handler';\n\n\n\nLogBox.ignoreLogs(['Setting a timer for a long period of time']);\n\nconst ProfileScreen = props =>  {\n\n\nconst [proposedDisplayName, setProposedDisplayName] = useState('');\nconst [proposedPhone, setProposedPhone] = useState('');\nconst [proposedAddressName, setProposedAddress] = useState('');\nconst [proposedEmailName, setProposedEmail] = useState('');\n\n// componentDidMount() {\n  useEffect(() => { \n    console.log(\"this should only run once\")\n    try{\n      const db = firebase.firestore();\n\n      const currUID=firebase.auth().currentUser.uid;\n      \n      db.collection(\"Users\").doc(currUID).get().then( (doc) => {\n        // console.log(doc);\n        if (doc.exists) {\n          const mydata= doc.data();\n    \n          displayNameHandler(mydata.displayName)\n          displayPhoneHandler(mydata.phone)\n          displayAddressHandler(mydata.address)\n          displayEmailHandler(mydata.email)\n        } else {\n            // doc.data() will be undefined in this case\n            console.log(\"No such document!\");\n        }\n      }).catch(function(error) {\n          console.log(\"Error getting document:\", error);\n        });\n    }\n    catch{\n      props.navigation.replace('Login')\n    }\n  },[])\n\n  const displayNameHandler = (enteredText) => {\n\t\tsetProposedDisplayName(enteredText);\n  };\n\n  const displayEmailHandler = (enteredText) => {\n\t\tsetProposedEmail(enteredText);\n  };\n\n  const displayPhoneHandler = (enteredText) => {\n\t\tsetProposedPhone(enteredText);\n  };\n  \n  const displayAddressHandler = (enteredText) => {\n\t\tsetProposedAddress(enteredText);\n  };\n\n  MakeChanges=(proposedAddressName,proposedDisplayName,proposedPhone, proposedEmailName,props)=>{\n    try{  \n      // let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n      // if (reg.test(proposedEmailName) === false) {\n      //   alert(\"Email is Not Correct\");\n      // }\n      // else {\n        const db = firebase.firestore();\n        const currUID = firebase.auth().currentUser.uid;\n        // firebase.auth.currentUser.updateEmail(proposedEmailName).then(() => {\n        //   console.log(\"Email updated!\");\n        // }).catch((error) => { console.log(error); });\n        db.collection(\"Users\").doc(currUID).update({\n          address:proposedAddressName,\n          displayName:proposedDisplayName,\n          phone:proposedPhone,\n          // email:proposedEmailName\n        }).then(() => {\n          alert('Profile Successfully Edited!');\n        }).catch((error) => {\n          console.log('Error updating the document:', error);\n        }) \n      // }\n  }\n  catch{\n\n  }  \n     \n    }\n\n  const signOut=(props)=>{\n    try{\n        firebase.auth().signOut();\n        props.navigation.replace('Login')\n\t\t\t\t\n    }\n    catch(error){\n      console.log(error.toString())\n    }\n  }\n\n  \n  return (\n    // <ScrollView>\n    <View style={styles.screen}>\n      <Item style={styles.title}>\n        <Text style={styles.titleText}>Hello </Text>\n        <TextInput style={styles.titleText}\n        // placeholder= {profileInfo.displayName} \n        value = {proposedDisplayName}\n        // value={profileInfo.displayName}\n        \n        onChangeText= {displayNameHandler}\n        />\n      </Item>\n    {/* <Form> */}\n        {/* <Text>Email: {profileInfo.email}</Text> */}\n        <View style={styles.profileField}>\n          <Item fixedLabel style={styles.labelInputCombo}>\n            <Text style={styles.text}>Email: </Text>\n            <TextInput style={styles.textInput}\n              // placeholder= {profileInfo.email}\n              value = {proposedEmailName}\n              // value={profileInfo.email}\n              // onChangeText= {displayPhoneHandler}\n            />\n          </Item>\n          <View style={styles.spacing}></View>\n          {/* <Item fixedLabel style={styles.labelInputCombo}>\n            <Text style={styles.text}>Display Name:</Text>\n            <TextInput\n              // placeholder= {profileInfo.displayName}\n              // value = {proposedDisplayName}\n              value={profileInfo.displayName}\n              onChangeText= {displayNameHandler}\n            />\n          </Item> */}\n          <Item fixedLabel style={styles.labelInputCombo}>\n            <Text style={styles.text}>Phone: </Text>\n            <TextInput style={styles.textInput}\n              // placeholder= {profileInfo.phone}\n              value = {proposedPhone}\n              // value={profileInfo.phone}\n              onChangeText= {displayPhoneHandler}\n            />\n          </Item>\n          <View style={styles.spacing}></View>\n          <Item fixedLabel style={styles.labelInputCombo}>\n            <Text style={styles.text}>Address: </Text>\n            <TextInput style={styles.textInput}\n              // placeholder= {profileInfo.address}\n              value = {proposedAddressName}\n              // value={profileInfo.address}\n              onChangeText= {displayAddressHandler}\n            />\n          </Item>\n          </View>\n       {/* <br/> */}\n        <SomeButton title=\"Confirm Changes\"\n          onPress={()=>MakeChanges(proposedAddressName,proposedDisplayName,proposedPhone,proposedEmailName,props)}\n        />\n        \n      <View style={styles.ButtonCombo}>\n        <SomeButton style={styles.secureUpdate}\n          title=\"Update Email\"\n          onPress={()=> props.navigation.replace(\"UpdateEmail\")}/>\n         \n         <SomeButton style={styles.secureUpdate}\n          title=\"Update Password\"\n          onPress={()=> props.navigation.replace(\"UpdatePassword\")}/>\n      </View>\n    {/* </Form> */}\n    <View>\n      <HyperlinkButton style={styles.signout}\n\t\t\t\ttitle={'Signout'}\n\t\t\t\tstyle={styles.loginbutton} \n\t\t\t\tonPress={()=>signOut(props)}\n\t\t\t/>\n      </View>\n       \n    </View>\n    // </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n\tscreen: {\n    flex:1,\n    margin:10,\n    // padding:10,\n    // paddingTop:20,\n    flexDirection:'column',\n\t\n  },\n  profileField: {\n    // flexDirection: \"row\",\n    // justifyContent: \"space-between\",\n    // alignItems:'flex-start',\n    // margin:10,\n    // padding:10,\n    marginBottom:20,\n    paddingVertical:20,\n  },\n  spacing:{\n    padding:15,\n  },\n  title:{\n\n\t\tmarginBottom: 20,\n    textAlign:'center',\n    justifyContent:'center',\n\t\talignItems: 'center',\n  },\n  titleText:{\n    fontSize:30,\n    fontWeight:'bold',\n  },\n  ButtonCombo:{\n    flex: 2,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    // padding:10,\n    // margin:10,\n    // alignItems: 'center',\n    // justifyContent: 'center',\n  },\n  text:{\n    fontSize:20,\n\t\tfontWeight:'bold',\n\t\t// alignSelf:'flex-start',\n\t\t// padding:5,\n  },\n  textInput:{\n    fontSize:20,\n  },\n  secureUpdate:{\n\n    // width:\"49%\",\n    height:40,\n    marginTop:10,\n    // margin:10,\n    padding:10,\n  },\n  signout:{\n    \n    margin:10,\n    padding:10,\n  }\n});\nexport default ProfileScreen;"]},"metadata":{},"sourceType":"module"}