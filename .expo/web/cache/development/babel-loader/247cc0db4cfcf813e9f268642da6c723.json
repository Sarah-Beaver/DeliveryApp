{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/sarah/Desktop/UNT Fall 2020/SWE/GroupProject/DeliveryApp/screens/ProfileScreens/ProfileScreen.js\";\n\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { LogBox } from \"react-native-web/dist/index\";\nimport { HyperlinkButton } from \"../../components/HyperlinkButton\";\nimport { Input } from \"../../components/Input\";\nimport { Container, Form, Item } from 'native-base';\nimport { SomeButton } from \"../../components/Button\";\nimport * as firebase from 'firebase';\nimport '@firebase/firestore';\nLogBox.ignoreLogs(['Setting a timer for a long period of time']);\n\nvar ProfileScreen = function ProfileScreen(props) {\n  var _useState = useState({\n    uid: \"\",\n    displayName: \"\",\n    email: \"\",\n    password: \"\",\n    address: \"\",\n    phone: \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      profileInfo = _useState2[0],\n      setProfileInfo = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      proposedDisplayName = _useState4[0],\n      setProposedDisplayName = _useState4[1];\n\n  var displayNameHandler = function displayNameHandler(enteredText) {\n    setProposedDisplayName(enteredText);\n  };\n\n  var db = firebase.firestore();\n  var currUID = firebase.auth().currentUser.uid;\n  var docRef = db.collection(\"Users\").doc(currUID);\n  docRef.get().then(function (doc) {\n    if (doc.exists) {\n      var mydata = doc.data();\n      setProfileInfo({\n        uid: mydata.uid,\n        email: mydata.email,\n        displayName: mydata.displayName,\n        password: mydata.password,\n        phone: mydata.phone,\n        address: mydata.address\n      });\n    } else {\n      console.log(\"No such document!\");\n    }\n  }).catch(function (error) {\n    console.log(\"Error getting document:\", error);\n  });\n\n  var signOut = function signOut(props) {\n    try {\n      firebase.auth().signOut();\n      props.navigation.replace('Login');\n    } catch (error) {\n      console.log(error.toString());\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.screen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"ProfileScreen!\"), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Email: \", profileInfo.email), React.createElement(View, {\n    style: styles.profileField,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"Display Name:\"), React.createElement(TextInput, {\n    placeholder: profileInfo.displayName,\n    value: proposedDisplayName,\n    onChangeText: displayNameHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 10\n    }\n  }, \"Phone:\"), React.createElement(TextInput, {\n    placeholder: profileInfo.phone,\n    value: proposedDisplayName,\n    onChangeText: displayNameHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 10\n    }\n  }, \"Address:\"), React.createElement(TextInput, {\n    placeholder: profileInfo.address,\n    value: proposedDisplayName,\n    onChangeText: displayNameHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  })), React.createElement(SomeButton, {\n    title: \"Confirm Changes\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }), React.createElement(HyperlinkButton, {\n    title: 'Signout',\n    style: styles.loginbutton,\n    onPress: function onPress() {\n      return signOut();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  screen: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  profileField: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"sources":["/Users/sarah/Desktop/UNT Fall 2020/SWE/GroupProject/DeliveryApp/screens/ProfileScreens/ProfileScreen.js"],"names":["React","useState","LogBox","HyperlinkButton","Input","Container","Form","Item","SomeButton","firebase","ignoreLogs","ProfileScreen","props","uid","displayName","email","password","address","phone","profileInfo","setProfileInfo","proposedDisplayName","setProposedDisplayName","displayNameHandler","enteredText","db","firestore","currUID","auth","currentUser","docRef","collection","doc","get","then","exists","mydata","data","console","log","catch","error","signOut","navigation","replace","toString","styles","screen","profileField","loginbutton","StyleSheet","create","flex","justifyContent","alignItems","flexDirection"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { StyleSheet, Text, View, TextInput, Button, LogBox, } from 'react-native';\nimport {HyperlinkButton} from '../../components/HyperlinkButton'\nimport {Input} from '../../components/Input';\nimport {Container,Form,Item} from 'native-base';\nimport {SomeButton} from '../../components/Button'\nimport * as firebase from 'firebase';\nimport '@firebase/firestore';\n\n\nLogBox.ignoreLogs(['Setting a timer for a long period of time']);\n\nconst ProfileScreen = props =>  {\n  const [profileInfo, setProfileInfo] = useState({\n    uid:\"\",\n    displayName: \"\",\n    email: \"\",\n    password:\"\",\n    address:\"\",\n    phone:\"\",\n  });\n  const [proposedDisplayName, setProposedDisplayName] = useState(\"\");\n  const displayNameHandler = (enteredText) => {\n\t\tsetProposedDisplayName(enteredText);\n  };\n  \n\n  const db = firebase.firestore();\n\n  const currUID = firebase.auth().currentUser.uid;\n  const docRef= db.collection(\"Users\").doc(currUID)\n  docRef.get().then( (doc) => {\n    if (doc.exists) {\n      const mydata= doc.data();\n      setProfileInfo({\n        uid: mydata.uid,\n        email: mydata.email,\n        displayName: mydata.displayName,\n        password:mydata.password,\n        phone:mydata.phone,\n        address:mydata.address,\n      })\n    } else {\n        // doc.data() will be undefined in this case\n        console.log(\"No such document!\");\n    }\n  }).catch(function(error) {\n      console.log(\"Error getting document:\", error);\n    });\n\n\n\n  const signOut=(props)=>{\n    try{\n        firebase.auth().signOut();\n        props.navigation.replace('Login')\n\t\t\t\t\n    }\n    catch(error){\n      console.log(error.toString())\n    }\n  }\n\n  return (\n    <View style={styles.screen}>\n      <Text>ProfileScreen!</Text>\n      <Text>Email: {profileInfo.email}</Text>\n      <View style={styles.profileField}>\n        <Text>Display Name:</Text>\n        <TextInput\n          placeholder= {profileInfo.displayName}\n          value = {proposedDisplayName}\n          onChangeText= {displayNameHandler}\n        />\n         <Text>Phone:</Text>\n        <TextInput\n          placeholder= {profileInfo.phone}\n          value = {proposedDisplayName}\n          onChangeText= {displayNameHandler}\n        />\n         <Text>Address:</Text>\n        <TextInput\n          placeholder= {profileInfo.address}\n          value = {proposedDisplayName}\n          onChangeText= {displayNameHandler}\n        />\n      </View>\n      <SomeButton title=\"Confirm Changes\"/>\n      <HyperlinkButton \n\t\t\t\ttitle={'Signout'}\n\t\t\t\tstyle={styles.loginbutton} \n\t\t\t\tonPress={()=>signOut()}\n\t\t\t/>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n\tscreen: {\n\t\tflex:1,\n\t\tjustifyContent:'center',\n\t\talignItems: 'center',\n  },\n  profileField: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  }\n});\nexport default ProfileScreen;"]},"metadata":{},"sourceType":"module"}